{"ast":null,"code":"var _jsxFileName = \"/Users/alvinlong/Desktop/Fall_2024/ENSF_480/480-Final-Project/Final-Project-Demo/frontend/src/component/SeatMapPage.js\",\n  _s = $RefreshSig$();\n// SeatmapPage.js\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SeatmapPage = () => {\n  _s();\n  const {\n    movieId\n  } = useParams(); // Get movie ID from URL\n  const [seatmap, setSeatmap] = useState([]);\n  const [selectedSeats, setSelectedSeats] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Fetch seatmap for the selected movie\n    const fetchSeatmap = async () => {\n      const response = await fetch(`http://127.0.0.1:5000/movies/${movieId}/seatmap`);\n      const data = await response.json();\n      setSeatmap(data.seats);\n    };\n    fetchSeatmap();\n  }, [movieId]);\n  const handleSeatSelection = seat => {\n    if (seat.available) {\n      if (selectedSeats.includes(seat)) {\n        setSelectedSeats(selectedSeats.filter(s => s !== seat));\n      } else {\n        setSelectedSeats([...selectedSeats, seat]);\n      }\n    }\n  };\n  const handlePurchase = () => {\n    // Redirect to the purchase page with selected seats\n    navigate('/purchase', {\n      state: {\n        selectedSeats,\n        movieId\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Select Your Seats\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seatmap\",\n      children: seatmap.map((seat, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleSeatSelection(seat),\n        style: {\n          backgroundColor: selectedSeats.includes(seat) ? 'green' : seat.available ? 'gray' : 'red',\n          margin: '5px'\n        },\n        disabled: !seat.available,\n        children: [seat.row, seat.number]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handlePurchase,\n      disabled: selectedSeats.length === 0,\n      children: \"Proceed to Purchase\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(SeatmapPage, \"I3Cs3NaD2//gsmakzeaxTedcqsU=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = SeatmapPage;\nexport default SeatmapPage;\nvar _c;\n$RefreshReg$(_c, \"SeatmapPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","jsxDEV","_jsxDEV","SeatmapPage","_s","movieId","seatmap","setSeatmap","selectedSeats","setSelectedSeats","navigate","fetchSeatmap","response","fetch","data","json","seats","handleSeatSelection","seat","available","includes","filter","s","handlePurchase","state","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","index","onClick","style","backgroundColor","margin","disabled","row","number","length","_c","$RefreshReg$"],"sources":["/Users/alvinlong/Desktop/Fall_2024/ENSF_480/480-Final-Project/Final-Project-Demo/frontend/src/component/SeatMapPage.js"],"sourcesContent":["// SeatmapPage.js\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\n\nconst SeatmapPage = () => {\n  const { movieId } = useParams(); // Get movie ID from URL\n  const [seatmap, setSeatmap] = useState([]);\n  const [selectedSeats, setSelectedSeats] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Fetch seatmap for the selected movie\n    const fetchSeatmap = async () => {\n      const response = await fetch(`http://127.0.0.1:5000/movies/${movieId}/seatmap`);\n      const data = await response.json();\n      setSeatmap(data.seats);\n    };\n    fetchSeatmap();\n  }, [movieId]);\n\n  const handleSeatSelection = (seat) => {\n    if (seat.available) {\n      if (selectedSeats.includes(seat)) {\n        setSelectedSeats(selectedSeats.filter((s) => s !== seat));\n      } else {\n        setSelectedSeats([...selectedSeats, seat]);\n      }\n    }\n  };\n\n  const handlePurchase = () => {\n    // Redirect to the purchase page with selected seats\n    navigate('/purchase', { state: { selectedSeats, movieId } });\n  };\n\n  return (\n    <div>\n      <h2>Select Your Seats</h2>\n      <div className=\"seatmap\">\n        {seatmap.map((seat, index) => (\n          <button\n            key={index}\n            onClick={() => handleSeatSelection(seat)}\n            style={{\n              backgroundColor: selectedSeats.includes(seat) ? 'green' : seat.available ? 'gray' : 'red',\n              margin: '5px',\n            }}\n            disabled={!seat.available}\n          >\n            {seat.row}{seat.number}\n          </button>\n        ))}\n      </div>\n      <button onClick={handlePurchase} disabled={selectedSeats.length === 0}>\n        Proceed to Purchase\n      </button>\n    </div>\n  );\n};\n\nexport default SeatmapPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}